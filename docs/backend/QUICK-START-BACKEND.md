# –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ Backend —Å–µ—Ä–≤–µ—Ä–∞

## –ü—Ä–æ–±–ª–µ–º–∞: ECONNREFUSED

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É `ECONNREFUSED` –≤ –∫–æ–Ω—Å–æ–ª–∏ frontend, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ backend —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω.

## –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ **–Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª** (–Ω–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª —Å frontend)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É backend:
   ```bash
   cd backend
   ```
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
   ```bash
   npm run dev
   ```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
üöÄ Server running on http://localhost:5000
üìù Environment: development
üîê JWT Secret: ‚úÖ Set
üóÑÔ∏è  Database: forum_db on localhost:5432
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ bat-—Ñ–∞–π–ª (Windows)

–î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ñ–∞–π–ª:
```
backend\start-server.bat
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ npm —Å–∫—Ä–∏–ø—Ç –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç –≤ –∫–æ—Ä–Ω–µ–≤–æ–º `package.json`:
```bash
npm run dev:backend
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ backend, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. –í –∫–æ–Ω—Å–æ–ª–∏ backend –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:5000/api/health
3. –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON: `{"status":"ok","message":"Database connected"}`

## –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

### –û—à–∏–±–∫–∞: "Port 5000 is already in use"

–ü–æ—Ä—Ç 5000 –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º. –†–µ—à–µ–Ω–∏—è:

1. **–ù–∞–π—Ç–∏ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å:**
   ```powershell
   # –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å
   Get-NetTCPConnection -LocalPort 5000 | Select-Object OwningProcess
   
   # –ó–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å (–∑–∞–º–µ–Ω–∏—Ç–µ PID –Ω–∞ –Ω–æ–º–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞)
   Stop-Process -Id PID
   ```

2. **–ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
   - –ò–∑–º–µ–Ω–∏—Ç–µ `PORT=5000` –Ω–∞ `PORT=5001`
   - –û–±–Ω–æ–≤–∏—Ç–µ `frontend/vite.config.ts`:
     ```typescript
     target: 'http://localhost:5001',
     ```

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
1. PostgreSQL –∑–∞–ø—É—â–µ–Ω
2. –§–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `forum_db` —Å–æ–∑–¥–∞–Ω–∞

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
```bash
cd backend
npm run check-db
```

## –í–∞–∂–Ω–æ

- Backend –∏ Frontend –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å **–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ** –≤ —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö
- Backend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω **–¥–æ** —Ç–æ–≥–æ, –∫–∞–∫ frontend –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å
- –ï—Å–ª–∏ –≤—ã –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ backend, frontend –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
