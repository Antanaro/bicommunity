# Миграция: Добавление колонки reaction_type

## Проблема
Ошибка: `column l.reaction_type does not exist`

Это происходит потому, что в таблице `likes` отсутствует колонка `reaction_type`, которая необходима для работы системы лайков/дизлайков.

## Решение

Запустите миграцию одним из способов:

### Способ 1: Через npm (рекомендуется)
```bash
cd backend
npm run migrate-reaction-type
```

### Способ 2: Через bat-файл
Дважды кликните на файл `migrate-reaction-type.bat` в папке `backend`

### Способ 3: Вручную через Node.js
```bash
cd backend
node src/migrations/add-reaction-type.js
```

## Что делает миграция

1. Добавляет колонку `reaction_type` в таблицу `likes`
   - Значение `1` = лайк (upvote)
   - Значение `-1` = дизлайк (downvote)

2. Обновляет существующие записи, устанавливая им значение `1` (лайк)

3. Обновляет ограничения уникальности для поддержки новой структуры

## После миграции

После успешного выполнения миграции:
- ✅ Ошибка `column l.reaction_type does not exist` исчезнет
- ✅ Система лайков/дизлайков будет работать корректно
- ✅ Backend автоматически перезапустится (если используется nodemon)

## Временное решение

Если миграцию нельзя выполнить прямо сейчас, код временно адаптирован для работы без колонки `reaction_type`, но функциональность лайков/дизлайков будет ограничена.
