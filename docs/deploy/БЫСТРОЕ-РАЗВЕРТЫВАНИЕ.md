# –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ VM (–µ—Å–ª–∏ –µ—Å—Ç—å SSH –¥–æ—Å—Ç—É–ø)

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ VM

**–° Windows –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:**

```powershell
# –ó–∞–º–µ–Ω–∏—Ç–µ user –∏ vm-ip –Ω–∞ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ
scp -r "C:\Users\ANTANARO-PC\Desktop\–ü—Ä–æ–µ–∫—Ç —Ñ–æ—Ä—É–º–∞" user@vm-ip:/home/user/
```

**–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ WinSCP/FileZilla –¥–ª—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VM

```powershell
ssh user@vm-ip
```

### –®–∞–≥ 3: –ù–∞ VM - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ Docker
docker --version

# –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER
newgrp docker

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker Compose
sudo apt update
sudo apt install docker-compose-plugin
```

### –®–∞–≥ 4: –ù–∞ VM - –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞

```bash
cd ~/–ü—Ä–æ–µ–∫—Ç\ —Ñ–æ—Ä—É–º–∞
# –∏–ª–∏
cd ~/"–ü—Ä–æ–µ–∫—Ç —Ñ–æ—Ä—É–º–∞"
```

### –®–∞–≥ 5: –ù–∞ VM - —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env

```bash
cp env.template .env
nano .env
```

**–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
```env
DB_NAME=forum_db
DB_USER=postgres
DB_PASSWORD=–≤–∞—à_–Ω–∞–¥–µ–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å
JWT_SECRET=—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ_—Å–ª—É—á–∞–π–Ω—É—é_—Å—Ç—Ä–æ–∫—É
FRONTEND_URL=http://vm-ip-address
HTTP_PORT=80
HTTPS_PORT=443
```

**–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ JWT_SECRET:**
```bash
openssl rand -hex 32
```

### –®–∞–≥ 6: –ù–∞ VM - –∑–∞–ø—É—Å—Ç–∏—Ç–µ Docker Compose

```bash
docker compose up -d --build
```

### –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose ps

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker compose logs -f

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health check
curl http://localhost/api/health
```

### –®–∞–≥ 8: –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

```bash
# –î–ª—è Ubuntu/Debian
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw reload
```

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: **http://vm-ip-address**

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ VM

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose logs -f

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker compose logs -f backend
docker compose logs -f nginx
docker compose logs -f postgres

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker compose down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker compose restart

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker compose up -d --build
```

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Docker
sudo systemctl status docker

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Docker
sudo systemctl restart docker

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
docker compose logs
```
