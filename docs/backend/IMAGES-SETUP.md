# Настройка загрузки изображений

## Шаги для активации функциональности загрузки изображений:

### 1. Установите зависимости
```bash
cd backend
npm install
```

### 2. Запустите миграцию базы данных
```bash
# Windows
migrate-images.bat

# Или напрямую через Node.js
node src\migrations\add-images-to-topics-posts.js
```

Миграция добавит поле `images` (массив текстовых значений) в таблицы `topics` и `posts`.

### 3. Создайте папку для загрузок
Папка `backend/uploads` будет создана автоматически при первом запуске сервера, но вы можете создать её вручную:
```bash
mkdir backend\uploads
```

### 4. Запустите сервер
```bash
npm run dev
```

## Использование

### На фронтенде:
- При создании темы или сообщения вы можете выбрать до 10 изображений
- Изображения будут автоматически загружены на сервер
- После загрузки изображения будут отображаться в теме/сообщении
- Клик по изображению откроет его в новой вкладке

### Ограничения:
- Максимальный размер одного изображения: 10 МБ
- Максимальное количество изображений: 10 на тему/сообщение
- Поддерживаемые форматы: все форматы изображений (jpeg, png, gif, webp и т.д.)

### API Endpoints:
- `POST /api/upload/image` - загрузка одного изображения
- `POST /api/upload/images` - загрузка нескольких изображений

Оба endpoint требуют аутентификации (Bearer token).
